TODO
----

General
-------
[ ] Optimization: Memory Profiling
[ ] Issue: Figure out Kiwi integration
[ ] Design: Should controller modify text directly and let view know?

Controller
----------
[ ] Feature: Store a single page and persist
[ ] Issue: Popover + scroll view weirdness if rotated when visible

Text View
---------
[ ] Issue: Keyboard input
[ ] Feature: Tokenization and movement - e.g. make sure selection isn't allowed to be empty
[ ] Feature: Selection handles
[ ] Feature: Scrolling behavior while editing
[ ] Feature: Cut copy paste
[ ] Feature: Context menus w/ selection
[ ] Design: Cancel double tap and press if duration too long or distance too short?
[ ] Design: follow UITextView conventions on ownership and follow conventions more closely
[ ] Optimization: Use a dirty marker for typesetting e.g.: [self setLineWidthDirty];
[ ] Optimization: Typeset at line granularity lazily
[ ] Optimization: Don't need skirt lines - can use typographic bounds
[ ] Optimization: Low memory - purge recycled sections
[ ] Issue: Drawing underlines - not pixel perfect :(
[ ] Design: Undo/Redo support

Deferred
--------
[ ] Design: Better icons for B/I/U
[ ] Issue: Bradley hand - no regular variant, only bold variant
[ ] Issue: Copperplate italic?
[ ] Issue: autocorrection and changing styles concurrently ... Tough to infer what intention is when a mixed styled word is replaced with what could be totally different word
[ ] Issue: Weird underline drawing behavior with and without line break / descender glyphs (g, p, etc)
[ ] Issue: Insertion when position within marked text modified - UITextInput bug?
[ ] Issue: Whitespace at end of line not being handled properly
[ ] Issue: Selection color off
[ ] Issue: Typesetting lines with trailing white space causes some weird issues

Done
----
[x] Issue: Text range selected, must enable all style toggles (might be applicable to sub ranges)
[x] Issue: Toggling traits should add/remove, not reset every trait and font

Notes
-----
Font traits are painful:
    normal:                                  bold and italic disabled
    normal + bold:                           bold enabled, italic disabled
    normal + italic:                         italic enabled, bold disabled
    normal + bold + italic:                  bold and italic enabled, exclusive bold/italic
    normal + bold + italic + bold-italic:    bold and italic enabled
    normal + bold-italic:                    bold-italic linked
    normal + bold + bold-italic:             italic tied to bold
    normal + italic + bold-italic:           bold tied to italic
    bold:                                    bold disabled-selected, italic disabled
    italic:                                  italic disabled-selected, bold disabled
    bold + italic:                           bold and italic enabled, exclusive bold/italic, untoggleable
    bold + bold-italic:                      bold disabled-selected, italic enabled
    italic + bold-italic:                    italic disabled-selected, bold enabled
    bold-italic:                             bold and italic disabled-selected
