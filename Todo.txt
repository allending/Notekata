TODO
----

General
-------
[ ] Optimization: Memory Profiling
[ ] Issue: Figure out Kiwi integration

Controller
----------
[ ] Issue: Null style should not cause crazy behavior
[ ] Feature: Store a single page and persist
[ ] Issue: Popover + scroll view weirdness if rotated when visible

Text View
---------
[ ] Feature: Scrolling behavior while editing
[ ] Feature: Tokenization and movement - e.g. make sure selection isn't allowed to be empty
[ ] Feature: Selection handles
[ ] Feature: Cut copy paste
[ ] Feature: Context menus w/ selection
[ ] Issue: Test keyboard movement on actual hardware
[ ] Issue: An issue with weird hardware keyboard movement during text input? Beat on test cases more
[ ] Feature: Undo/Redo support
[ ] Design: Cancel double tap and press if duration too long or distance too short?
[ ] Design: follow UITextView conventions on ownership and follow conventions more closely
[ ] Optimization: Don't need skirt lines - can use typographic bounds
[ ] Optimization: Low memory - purge recycled sections
[ ] Issue: Drawing underlines - not pixel perfect :(
[ ] Issue: Test Chinese handwriting

Done
----
[x] Issue: Changing style should update caret
[x] Issue: End of 'West!' -> Down -> Wonky
[x] Issue: Integrate affinity into positions and ranges?
[x] Optimization: Use a dirty marker for typesetting e.g.: [self setLineWidthDirty];
[x] Optimization: Typeset at line granularity lazily
[x] Issue: Line hit testing should be tuned for user touch line navigating experience
[x] Issue: Sample text -> tap end of first line -> font incorrect? - examine further
[x] Issue: Range loupe not working on last line
[x] Issue: Empty/partial last line highlight not totally right
[x] Issue: Setting text to nil fine
[x] Issue: When there is marked text, any tap/press removes its provisional status
[x] Issue: Disallow movement when there is a marked text range - UITextInput prevents it anyway
[x] Issue: Tap out of bounds latches to x coordinate
[x] Issue: Keyboard input mostly works
[x] Issue: Select all when text doesn't end with newline
[x] Issue: Refactor tokenizer
[x] Issue: Use newline char set instead of \n
[x] Issue: Non empty last line and click out of bounds
[x] Issue: Delete from end doesn't quite work
[x] Design: Should controller modify text directly and let view know? - No


Deferred
--------
[ ] Issue: When end of text is newline, keyboard up movement has minor issue when caret is on the last line - small enough to ignore for now
[ ] Design: Better icons for B/I/U
[ ] Issue: Bradley hand - no regular variant, only bold variant
[ ] Issue: Copperplate italic?
[ ] Issue: autocorrection and changing styles concurrently ... Tough to infer what intention is when a mixed styled word is replaced with what could be totally different word
[ ] Issue: Weird underline drawing behavior with and without line break / descender glyphs (g, p, etc)
[ ] Issue: Insertion when position within marked text modified - UITextInput bug?
[ ] Issue: Whitespace at end of line not being handled properly
[ ] Issue: Selection color off
[ ] Issue: Typesetting lines with trailing white space causes some weird issues
