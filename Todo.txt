TODO
----

General
-------
OCD: Make property access consistent
OCD: Use internal ivar names

Controller
----------
Design: Controller responsible for setting up styles of text view

Text View
---------
Issue: Make meaning of text position styling / fonts consistent (autocorrect, insertion text, etc)
Issue: Keyboard input

Feature: Tokenization and movement - e.g. make sure selection isn't allowed to be empty
Feature: Selection handles
Feature: Scrolling behavior while editing
Feature: Cut copy paste
Feature: Context menus w/ selection

Design: follow UITextView conventions on ownership and follow conventions more closely
Design: Change default font

Optimization: Use a dirty marker for typesetting e.g.: [self setLineWidthDirty];
Optimization: Typeset at line granularity lazily
Optimization: Don't need skirt lines - can use typographic bounds
Optimization: Low memory - purge recycled sections

Deferred
--------
Issue: Insertion when position within marked text modified - UITextInput bug?
Issue: Whitespace at end of line not being handled properly
Issue: Selection color off
Issue: Typesetting lines with trailing white space causes some weird issues

Done
----
x Issue: UITextInput speed problems
x Issue: Rotation and selection elements!
x Issue: Empty doc, double tap select, long press select, visual behavior
x Issue: Fix rects returned
x Issue: marked text range selection at end
x Issue: dtnd loupe not working well on edge cases with abc test text
x Feature: Movement within marked text when marked text exists
x Feature: Marked text visuals...
x Issue: Loupe at bottom of device - background color
x Issue: Still having issues with drawing anti aliased lines in NKTHighlightRegion - try on same line as zh
x Issue: blank -> (zh)ni (db) (db) (english) you
x Issue: blank -> (zh)na (db) (db) (english) abcd
x Issue: unmarkText not being called correctly?
x Issue: ni hao ma (space) n (delete backwards) -> crash
x Issue: n (db) (db) (db) crash on empty page
x Issue: Select all text and delete
x Issue: Drawing order of selection etc.
x Design: Decouple some logic for selection, fonts, etc
x Issue: Enter/exit responder multiple times not interacting well with selection
x Refactor: Make caret creation and rect clearer
x Issue: Text view layout wrong when no text on start
x Issue: Tap beyong line should place caret at end of line.
x Issue: Caret should be sized with ascent + descent
x Issue: Make position computations clearer in text section
x Issue: Default Line Height + Large Margins -> last horizontal rule missing
x Issue: Text view doesn't rotate properly
x Feature: Lines/Styles
x Issue: Unlimited line drawing fails when using large margins
x Issue: what if glyphs from non visible line enter visible line? solve by design? buffer 1 on top and bottom and limit point size
x Issue: text clips if section frames are just right. can solve by adding some padding to frame?
x Crash: Creating text sections that won't display any lines..
x Issue: first line clipping glyphs?
